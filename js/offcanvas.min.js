/*!
 * offcanvas.min.js v2.0 - 2015-01-09
 * Copyright 2014 Christoph Heich | http://cheich.github.io/Offcanvas/
 * Released under the MIT license | http://opensource.org/licenses/MIT
 */

$(function($){var c={pageSelector:'div.page',position:'left',width:'100%',height:'100%',type:'overlay',injectPosition:'before',pageClick:true}var d;var e={};$.fn.offcanvas=function(a){d=this;if(h[a]){return h[a].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof a==='object'||!a){return f.apply(this,arguments)}else{}}var f=function(a){g(a);d.data('page',$(d.data('options').pageSelector));if(!d.data('page').hasClass('offcanvas-main')&&!d.data('page').parent('.offcanvas-wrapper').length){d.data('page').addClass('offcanvas-main').wrap('<div class="offcanvas-viewport" />').wrap('<div class="offcanvas-wrapper" />')}d.data('wrapper',d.data('page').parent('.offcanvas-wrapper'));if($.inArray(e,d.data('page'))==-1){e[d.data('page')]=[]}e[d.data('page')].push(d);d.addClass('offcanvas-'+d.data('options').position).addClass('offcanvas-'+d.data('options').type);if(d.data('options').type=='shrink'){if($.inArray(d.data('options').position,['top','bottom']!=-1)){d.css({height:d.data('options').height,width:0})}else{d.css({width:d.data('options').width,height:0})}}else{d.css({width:d.data('options').width,height:d.data('options').height})}if(d.data('options').injectPosition=='after'){d.insertAfter(d.data('page'))}else{d.insertBefore(d.data('page'))}if(d.data('options').pageClick){d.data('page').on('click',function(){h.hide()})}d.data('state','shown');h.hide();return this}var g=function(a){options=$.extend(true,{},c,a);if($.inArray(options.position,['top','right','bottom','left'])==-1){options.position='top'}options.position=options.position.toLowerCase();options.type=options.type.toLowerCase();if($.inArray(options.type,['push','overlay','underlay','shrink'])==-1){options.type='push'}if(options.injectPosition.toLowerCase()=='prepend'){options.injectPosition='prepend'}else{options.injectPosition='append'}d.data('options',options);return this}var h={show:function(a){h.hideAll();switch(that.data('options').type){case'push':switch(that.data('options').position){case'top':d.data('wrapper').css('top',that.data('options').height);break;case'right':d.data('wrapper').css('left','-'+that.data('options').width);break;case'bottom':d.data('wrapper').css('top','-'+that.data('options').height);break;case'left':d.data('wrapper').css('left',that.data('options').width);break}break;case'shrink':break;case'underlay':switch(that.data('options').position){case'top':d.data('page').css('top',that.data('options').height);break;case'right':d.data('page').css('left','-'+that.data('options').height);break;case'bottom':d.data('page').css('top','-'+that.data('options').height);break;case'left':d.data('page').css('left',that.data('options').height);break}if($.inArray(that.data('options').position,['top','bottom'])!=-1){d.data('page').css(that.data('options').position,that.data('options').height)}else{d.data('page').css(that.data('options').position,that.data('options').width)}break;case'overlay':default:that.css(that.data('options').position,0);break}d.data('page').addClass('offcanvas-main-inactive');that.data('state','shown');return this},hide:function(a){if($.inArray(that.data('options').type,['push','overlay'])!=-1){switch(that.data('options').position){case'top':case'bottom':that.css(that.data('options').position,'-'+that.data('options').height);break;case'left':case'right':that.css(that.data('options').position,'-'+that.data('options').width);break}}d.data('wrapper').css({top:'',left:''});d.data('page').css({top:'',left:''});d.data('page').removeClass('offcanvas-main-inactive');that.data('state','hidden');return this},hideAll:function(){$.each(e[d.data('page')],function(a,b){h.hide(b)});return this},toggle:function(a){if(d.data('state')=='hidden'){h.show(that)}else{h.hide(that)}return this}}}(jQuery));
